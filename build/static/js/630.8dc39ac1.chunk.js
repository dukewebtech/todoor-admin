"use strict";(self.webpackChunksoftwrk_web=self.webpackChunksoftwrk_web||[]).push([[630],{2630:function(e,i,n){n.r(i);var l=n(4165),r=n(5861),o=n(885),t=n(2791),a=n(8152),d=n(5705),s=n(1724),u=n(5588),c=(n(6113),n(676)),v=(n(8871),n(5311),n(7328),n(656),n(2699),n(4565)),f=n(6871),p=n(3979),m=(n(3849),n(4789)),x=n(7425),h=n(6856),y=(n(4781),n(2426)),g=n.n(y),Z=n(9795),j=n(184);i.default=function(e){var i,n,y,N,b,w,k,S,_=(0,f.s0)(),C=(0,t.useState)("rider"),T=(0,o.Z)(C,2),A=T[0],I=(T[1],(0,t.useState)(1)),R=(0,o.Z)(I,2),G=R[0],Q=R[1],V=(0,t.useState)([]),U=(0,o.Z)(V,2),q=U[0],B=U[1],L=a.Z.useGetAllQuery({userType:"company"}),P=a.Z.useGetCompanyStatisticsQuery({}),z=(0,t.useState)([]),D=(0,o.Z)(z,2),E=D[0],F=D[1],J=null===P||void 0===P?void 0:P.data,M=null===L||void 0===L||null===(i=L.data)||void 0===i?void 0:i.data,O=a.Z.useGetAllQuery({userType:"rider"}),X=(null===O||void 0===O||null===(n=O.data)||void 0===n||n.data,null===a.Z||void 0===a.Z?void 0:a.Z.useGetAllBikesQuery({pageNo:G})),H=+(null===O||void 0===O||null===(y=O.data)||void 0===y||null===(N=y.meta)||void 0===N?void 0:N.totalNoOfPages),K=(null===X||void 0===X||null===(b=X.data)||void 0===b||b.data,a.Z.useGetAllVerifiedQuery({userType:A,verified:!1,pageNo:G})),W=a.Z.useGetAllVerifiedQuery({userType:A,verified:!0,pageNo:G}),Y=null===W||void 0===W||null===(w=W.data)||void 0===w?void 0:w.data,$=null===K||void 0===K||null===(k=K.data)||void 0===k?void 0:k.data,ee=function(e){Q(e),console.log(e)};(0,t.useEffect)((function(){ie()}),[G]);for(var ie=function(){var e=(0,r.Z)((0,l.Z)().mark((function e(){var i,n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.U2)({endpoint:"api/company/getalluser?userType=rider&pageNo=".concat(G),auth:!0});case 2:n=e.sent,B(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.data),console.log(n.data.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,r.Z)((0,l.Z)().mark((function e(i){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.IV)({endpoint:"api/super-admin/deleteRider?userId=".concat(i),auth:!0});case 2:e.sent,ie();case 4:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}(),le=[],re=1;re<=H;re++)le.push(re);var oe=function(e){if(M&&q&&e){var i=M.find((function(i){return i._id==e}));return console.log(null===i||void 0===i?void 0:i.fname),i}},te=null===q||void 0===q?void 0:q.map((function(e){var i;return{image:null===e||void 0===e?void 0:e.profileUrl,name:"".concat(null===e||void 0===e?void 0:e.fname),company:null!==e&&void 0!==e&&e.companyId?null===(i=oe(null===e||void 0===e?void 0:e.companyId))||void 0===i?void 0:i.fname:"Self Registered",id:null===e||void 0===e?void 0:e.email,ratings:g()(null===e||void 0===e?void 0:e.created_at).format("ll"),tripsCompleted:"-",phoneNo:null===e||void 0===e?void 0:e.phoneNo,status:null===e||void 0===e?void 0:e.currTripState,userId:null===e||void 0===e?void 0:e._id,verified:null===e||void 0===e?void 0:e.verified,info:e}}));console.log(te),(0,c.Z)();var ae=(0,u.Ds)().enqueueSnackbar,de=a.Z.useLoginMutation(),se=(0,o.Z)(de,2),ue=se[0],ce=(se[1],(0,d.TA)({initialValues:{username:"",password:""},validationSchema:s.Ry({username:s.Z_().trim().required(),password:s.Z_().trim().required()}),onSubmit:function(){var e=(0,r.Z)((0,l.Z)().mark((function e(i){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(i),_("/complete-signUp"),e.prev=2,e.next=5,ue({data:i}).unwrap();case 5:e.sent,ae("Logged in successful",{variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),ae(null===e.t0||void 0===e.t0||null===(n=e.t0.data)||void 0===n?void 0:n.message,"Failed to login",{variant:"error"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(i){return e.apply(this,arguments)}}()}),function(e,i){console.log(e),F(i?null===e||void 0===e?void 0:e.map((function(e){var i;return{image:null===e||void 0===e?void 0:e.profileUrl,name:"".concat(null===e||void 0===e?void 0:e.fname),company:null!==e&&void 0!==e&&e.companyId?null===(i=oe(null===e||void 0===e?void 0:e.companyId))||void 0===i?void 0:i.fname:"Self Registered",id:null===e||void 0===e?void 0:e.email,ratings:g()(null===e||void 0===e?void 0:e.created_at).format("ll"),tripsCompleted:"-",phoneNo:null===e||void 0===e?void 0:e.phoneNo,status:null===e||void 0===e?void 0:e.currTripState,userId:null===e||void 0===e?void 0:e._id,verified:null===e||void 0===e?void 0:e.verified,info:e}})):[])});return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"flex items-end mr-3 mt-12 w-3/6",children:[(0,j.jsx)("div",{className:"mr-4 hover:cursor-pointer",onClick:function(){ce(q,!1)},children:(0,j.jsx)(p.Z,{className:"mr-3",rider:!1,big:!0,green:!0,name:"Total Riders",count:null===J||void 0===J?void 0:J.total_riders})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"relative w-full ",children:(0,j.jsxs)("div",{className:"flex-between px-2 w-full text-xs absolute ",style:{top:"-20px"},children:[(0,j.jsxs)("div",{className:"flex",children:[(0,j.jsx)("p",{className:"font-bold mr-1 flextext-xs self-end",children:"Today"}),(0,j.jsx)("div",{children:(0,j.jsx)(x.ZXJ,{className:"",style:{fontSize:"16px",color:"#494949"}})})]}),(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("span",{className:"text-xs mr-1 opacity-50",children:(0,j.jsx)(h.la_,{})}),(0,j.jsx)("span",{className:"text-xs opacity-50",children:"Refresh"})]})]})}),(0,j.jsxs)("div",{className:"flex",children:[(0,j.jsx)("div",{className:"hover:cursor-pointer",onClick:function(){ce(Y,!0)},children:(0,j.jsx)(p.Z,{short:!0,name:"Verified",count:null===J||void 0===J?void 0:J.verified_rider})}),(0,j.jsx)("div",{className:"hover:cursor-pointer",onClick:function(){ce($,!0)},children:(0,j.jsx)(p.Z,{short:!0,name:"Un-Verified",count:null===J||void 0===J?void 0:J.unverified_rider})})]})]})]}),(0,j.jsx)(v.Z,{variant:"h5",className:"font-bold mt-8 text-primary-main",children:"All Riders"}),null===(S=E.length&&E||te)||void 0===S?void 0:S.map((function(e,i){return(0,j.jsx)(m.Z,{deleteBikes:ne,tableArray:e,info:e.info,getBikes:ie},i)})),(0,j.jsx)("nav",{className:"flex justify-center mt-5",children:(0,j.jsxs)("ul",{className:"flex",children:[G>1&&(0,j.jsx)("li",{children:(0,j.jsx)("a",{href:"#",onClick:function(){return ee(G-1)},className:"py-2 px-4 bg-gray-400 text-white font-bold rounded-l hover:bg-gray-600",children:"Prev"})}),le.map((function(e){return(0,j.jsx)("li",{children:(0,j.jsx)("a",{href:"#",onClick:function(){return ee(e)},className:G===e?"py-2 px-4 bg-primary-main text-white font-bold":"py-2 px-4 hover:bg-gray-400/10",children:e})},e)})),G<le.length&&(0,j.jsx)("li",{children:(0,j.jsx)("a",{href:"#",onClick:function(){return ee(G+1)},className:"py-2 px-4 bg-gray-400 text-white font-bold rounded-r hover:bg-gray-600",children:"Next"})})]})})]})}}}]);
//# sourceMappingURL=630.8dc39ac1.chunk.js.map