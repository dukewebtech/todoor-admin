"use strict";(self.webpackChunksoftwrk_web=self.webpackChunksoftwrk_web||[]).push([[376],{6683:function(e,n,i){var a=i(4165),t=i(5861),l=i(885),s=i(2791),r=i(8152),o=i(5705),d=i(1724),c=i(5588),u=(i(6113),i(676)),v=(i(8871),i(5311),i(7328),i(1306),i(4861),i(2699),i(4565)),m=i(6871),x=i(184);n.Z=function(e){var n=s.useState(""),i=(0,l.Z)(n,2),p=(i[0],i[1],(0,m.s0)()),h=((0,u.Z)(),(0,c.Ds)().enqueueSnackbar),f=r.Z.useLoginMutation(),j=(0,l.Z)(f,2),g=j[0];return j[1],(0,o.TA)({initialValues:{username:"",password:""},validationSchema:d.Ry({username:d.Z_().trim().required(),password:d.Z_().trim().required()}),onSubmit:function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),p("/complete-signUp"),e.prev=2,e.next=5,g({data:n}).unwrap();case 5:e.sent,h("Logged in successful",{variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),h(null===e.t0||void 0===e.t0||null===(i=e.t0.data)||void 0===i?void 0:i.message,"Failed to login",{variant:"error"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}()}),(0,x.jsx)("div",{className:"p-20",style:{border:"none",borderLeft:e.cutborder?"1px solid #C4C4C4":"none"},children:(0,x.jsx)("div",{className:e.rider?"riders-bg text-white text-center mr-3":e.plain?"plain-bg":e.green?"bg-primary-main text-white":e.big?"text-left":" text-white text-center",sx:{minWidth:e.big?220:155,minHeight:e.big?160:120},children:(0,x.jsxs)("div",{className:e.bigspace?" pr-10":"px-5",children:[(0,x.jsx)("div",{children:(0,x.jsx)(v.Z,{className:e.plain||e.green?" text-center text-white":e.dashboard?"text-center text-primary-main ":"text-center text-primary-main font-bold",sx:{fontSize:12},children:e.name||"Total Companies"})}),(0,x.jsx)("div",{children:(0,x.jsx)(v.Z,{variant:e.small?"h4":"h2",className:e.green?"text-white text-center font-bold":"text-center font-bold text-primary-main",children:("Earnings"==e.name?"\u20a6 ".concat(e.count):e.count)||"0"})})]})})})}},1376:function(e,n,i){i.r(n);var a=i(4165),t=i(5861),l=i(885),s=i(2791),r=i(8152),o=i(5705),d=i(1724),c=i(5588),u=(i(6113),i(676)),v=(i(8871),i(5311),i(3458),i(7328),i(9795)),m=(i(656),i(2699),i(3978)),x=i(4565),p=i(4032),h=i(8778),f=i(6015),j=i(7205),g=i(8916),b=i(6871),Z=(i(3979),i(3849)),y=i(7425),N=i(4789),w=i(6683),C=i(4781),k=(i(5048),i(2426)),S=i.n(k),_=i(184);n.default=function(e){var n,i,k,U,A,T,R,V=r.Z.useGetCompanyStatisticsQuery({}),E=null===V||void 0===V?void 0:V.data,L=(0,s.useState)(!1),P=(0,l.Z)(L,2),q=P[0],D=P[1],G=(0,s.useState)("company"),Q=(0,l.Z)(G,2),z=Q[0],I=(Q[1],(0,s.useState)([])),B=(0,l.Z)(I,2),F=B[0],H=B[1],M=(0,s.useState)([]),O=(0,l.Z)(M,2),W=(O[0],O[1],(0,s.useState)([])),Y=(0,l.Z)(W,2),J=Y[0],K=Y[1],X=(0,s.useState)([]),$=(0,l.Z)(X,2),ee=$[0],ne=$[1],ie=(0,s.useState)([]),ae=(0,l.Z)(ie,2),te=ae[0],le=ae[1],se=(0,s.useState)(""),re=(0,l.Z)(se,2),oe=re[0],de=re[1],ce=(0,s.useState)(""),ue=(0,l.Z)(ce,2),ve=ue[0],me=ue[1],xe=(0,s.useState)(),pe=(0,l.Z)(xe,2),he=pe[0],fe=pe[1],je=(0,s.useState)(0),ge=(0,l.Z)(je,2),be=ge[0],Ze=ge[1],ye=s.useState(!1),Ne=(0,l.Z)(ye,2),we=Ne[0],Ce=Ne[1],ke=(0,s.useState)(1),Se=(0,l.Z)(ke,2),_e=Se[0],Ue=Se[1],Ae=function(e){Ce(!0)},Te=(0,b.s0)(),Re=function(e){Ue(e),console.log(e)},Ve=null===ee||void 0===ee?void 0:ee.map((function(e){return{image:null===e||void 0===e?void 0:e.profileUrl,name:null===e||void 0===e?void 0:e.fname,company:null===e||void 0===e?void 0:e.companyName,id:null===e||void 0===e?void 0:e.email,ratings:S()(e.created_at).format("ll"),tripsCompleted:"-",phoneNo:null===e||void 0===e?void 0:e.phoneNo,status:null===e||void 0===e?void 0:e.currTripState,verified:null===e||void 0===e?void 0:e.verified,info:e}})),Ee=((0,u.Z)(),(0,c.Ds)().enqueueSnackbar),Le=r.Z.useLoginMutation(),Pe=(0,l.Z)(Le,2),qe=Pe[0],De=(Pe[1],(0,o.TA)({initialValues:{username:"",password:""},validationSchema:d.Ry({username:d.Z_().trim().required(),password:d.Z_().trim().required()}),onSubmit:function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),Te("/complete-signUp"),e.prev=2,e.next=5,qe({data:n}).unwrap();case 5:e.sent,Ee("Logged in successful",{variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Ee(null===e.t0||void 0===e.t0||null===(i=e.t0.data)||void 0===i?void 0:i.message,"Failed to login",{variant:"error"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}()}),r.Z.useGetAllQuery({userType:"company",count:be,pageNo:_e})),Ge=null===De||void 0===De||null===(n=De.data)||void 0===n?void 0:n.data,Qe=r.Z.useGetAllQuery({userType:"company"}),ze=null===Qe||void 0===Qe||null===(i=Qe.data)||void 0===i?void 0:i.data,Ie=r.Z.useGetAllVerifiedQuery({userType:z,verified:!1,pageNo:_e}),Be=r.Z.useGetAllVerifiedQuery({userType:z,verified:!0,pageNo:_e}),Fe=null===Be||void 0===Be||null===(k=Be.data)||void 0===k?void 0:k.data,He=null===Ie||void 0===Ie||null===(U=Ie.data)||void 0===U?void 0:U.data;console.log(Fe);var Me=+(null===De||void 0===De||null===(A=De.data)||void 0===A||null===(T=A.meta)||void 0===T?void 0:T.totalNoOfPages);console.log(Me);for(var Oe=[],We=1;We<=Me;We++)Oe.push(We);var Ye=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.U2)({endpoint:"api/super-admin/getAllRidersCompany?userId=".concat(n),auth:!0});case 2:i=e.sent,console.log(i.data.data),K(i.data.data),ne(i.data.data);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function Je(e){var n;return null===e||void 0===e||null===(n=e.toString())||void 0===n?void 0:n.replace(/\B(?=(\d{3})+(?!\d))/g,",")}var Ke=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n){var i,t,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.U2)({endpoint:"api/super-admin/companyTotalEarningStats?userId=".concat(n),auth:!0});case 2:l=e.sent,le((null===l||void 0===l||null===(i=l.data)||void 0===i||null===(t=i.data[0])||void 0===t?void 0:t.total_revenue)||0);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n,i){var t,l,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,(0,v.gz)({endpoint:"api/super-admin/approveUser?id=".concat(i),auth:!0});case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,(0,v.gz)({endpoint:"api/super-admin/rejectUser?id=".concat(i),auth:!0});case 8:e.t0=e.sent;case 9:(t=e.t0).data.success?(Ze(be+1),Ee(null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.message,{variant:"succes"})):(console.log(t),Ee(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message,{variant:"error"}));case 11:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}(),$e=function(e,n){console.log(e),H(n?e:[])};return(0,_.jsxs)("div",{children:[(0,_.jsx)(C.Z,{records:ze,selectOption:function(e){Ye(null===e||void 0===e?void 0:e._id),Ke(null===e||void 0===e?void 0:e._id),de(null===e||void 0===e?void 0:e.fname),me(null===e||void 0===e?void 0:e.profileUrl),fe(e),Ae()}}),!q&&(0,_.jsxs)("div",{className:"",children:[(0,_.jsx)("div",{class:"w-3/5 mb-8",children:(0,_.jsxs)("div",{className:"flex items-center  mt-8 border2 p-2",children:[(0,_.jsx)("div",{className:"hover:cursor-pointer",onClick:function(){$e(Fe,!0)},children:(0,_.jsx)(w.Z,{dashboard:!0,small:!0,bigspace:!0,name:"Verified Companies",count:null===E||void 0===E?void 0:E.verified_company})}),(0,_.jsx)("div",{className:"hover:cursor-pointer",onClick:function(){$e(He,!0)},children:(0,_.jsx)(w.Z,{dashboard:!0,small:!0,cutborder:!0,name:"Unverified Companies",count:Je(null===E||void 0===E?void 0:E.unverified_company)})}),(0,_.jsx)("div",{className:"hover:cursor-pointer",onClick:function(){$e(Ge,!1)},children:(0,_.jsx)(w.Z,{dashboard:!0,small:!0,cutborder:!0,name:"Total Companies",count:Je(null===E||void 0===E?void 0:E.total_company)})})]})}),(0,_.jsx)("div",{className:"flex mb-5 h-3 justify-center mt-5 ",children:(0,_.jsxs)("ul",{className:"flex",children:[_e>1&&(0,_.jsx)("li",{children:(0,_.jsx)("a",{href:"#",onClick:function(){return Re(_e-1)},className:"py-2 px-4 bg-gray-400 text-white font-bold rounded-l hover:bg-gray-600",children:"Prev"})}),Oe.map((function(e){return(0,_.jsx)("li",{children:(0,_.jsx)("a",{href:"#",onClick:function(){return Re(e)},className:_e===e?"py-2 px-4 bg-primary-main text-white font-bold":"py-2 px-4 hover:bg-gray-400/10",children:e})},e)})),_e<Oe.length&&(0,_.jsx)("li",{children:(0,_.jsx)("a",{href:"#",onClick:function(){return Re(_e+1)},className:"py-2 px-4 bg-gray-400 text-white font-bold rounded-r hover:bg-gray-600",children:"Next"})})]})}),(0,_.jsx)("div",{class:"flex flex-wrap gap-4",children:null===(R=F.length&&F||Ge)||void 0===R?void 0:R.map((function(e){return(0,_.jsx)("div",{onClick:function(){Ye(null===e||void 0===e?void 0:e._id),Ke(null===e||void 0===e?void 0:e._id),de(null===e||void 0===e?void 0:e.fname),me(null===e||void 0===e?void 0:e.profileUrl),fe(e)},className:"w-[32%] mt-3",children:(0,_.jsx)(Z.Z,{companyDetails:e,handleShow:Ae})})}))})]}),q&&(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{onClick:function(){return D(!q)},className:"flex items-center mb-8 cursor-pointer w-16 p-2",children:[(0,_.jsx)("div",{style:{border:"1px solid #494949"},className:"border-solid w-5 mr-2 rounded h-5 flex justify-center items-center",children:(0,_.jsx)(y.jW7,{className:"",style:{fontSize:"22px",color:"#494949"}})}),(0,_.jsx)("p",{style:{color:"#494949"},className:"text-base",children:"Back"})]}),(0,_.jsxs)("div",{className:"flex items-center",style:{backGroundColor:"#1E1E1E"},children:[(0,_.jsx)(m.Z,{src:ve,className:"rounded-full"}),(0,_.jsx)(x.Z,{variant:"h5",className:"font-bold ml-4 ",children:oe})]}),(0,_.jsx)("div",{className:"flex justify-between",children:(0,_.jsxs)("div",{className:"flex items-center  mt-8 border2 p-2",children:[(0,_.jsx)(w.Z,{dashboard:!0,small:!0,bigspace:!0,name:"Riders",count:null===J||void 0===J?void 0:J.length}),(0,_.jsx)(w.Z,{dashboard:!0,small:!0,cutborder:!0,name:"Earnings",count:Je(te)})]})}),(0,_.jsxs)("div",{className:"flex  justify-between  items-end",children:[(0,_.jsx)(x.Z,{variant:"h5",className:"font-bold mt-8 text-primary-main",children:"Riders"}),(0,_.jsx)("div",{className:"flex justify-between items-end",children:(0,_.jsx)(p.Z,{onChange:function(e,n){return function(e){console.log(e);var n=null===J||void 0===J?void 0:J.filter((function(n){var i;return null===n||void 0===n||null===(i=n.fname.toLowerCase())||void 0===i?void 0:i.includes(null===e||void 0===e?void 0:e.toLowerCase())}));ne(n)}(e.target.value)}})})]}),null===Ve||void 0===Ve?void 0:Ve.map((function(e){return(0,_.jsx)(N.Z,{tableArray:e,info:null===e||void 0===e?void 0:e.info})})),Ve.length<1&&(0,_.jsx)(x.Z,{variant:"h4",className:"font-bold my-16 text-primary-main w-full text-center",children:"This company is yet to add a Rider"})]}),(0,_.jsx)(h.Z,{open:we,onClose:function(){return Ce(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,_.jsx)("div",{children:(0,_.jsx)(f.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",minHeight:"520px",bgcolor:"background.paper",borderRadius:"3%",boxShadow:24,p:4},children:(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{className:"flex gap-8",children:[(0,_.jsx)("div",{className:"flex",children:(0,_.jsx)(m.Z,{sx:{width:100,height:100},src:null===he||void 0===he?void 0:he.profileUrl})}),(0,_.jsxs)("div",{className:"mt-4",children:[(0,_.jsx)(x.Z,{className:"font-bold mb-5",variant:"h5",children:null===he||void 0===he?void 0:he.fname}),!(null!==he&&void 0!==he&&he.verified)&&(0,_.jsxs)("div",{class:"flex gap-5",children:[(0,_.jsx)(j.Z,{onClick:function(){return Xe(!0,null===he||void 0===he?void 0:he._id)},className:"bg-green-500",children:"Approve"}),(0,_.jsx)(j.Z,{onClick:function(){return Xe(!1,null===he||void 0===he?void 0:he._id)},className:"bg-red-500",children:"Decline"})]}),(null===he||void 0===he?void 0:he.verified)&&(0,_.jsx)("div",{class:"flex gap-5",children:(0,_.jsx)(j.Z,{onClick:function(){D(!q),Ce(!1)},className:"bg-black/30",children:"View Company"})})]})]}),(0,_.jsx)(g.Z,{className:"my-8"}),(0,_.jsxs)("div",{class:"flex gap-16 ",children:[(0,_.jsxs)("div",{className:"flex flex-col gap-3 font-semibold",children:[(0,_.jsx)(x.Z,{className:"font-semibold",children:"Address:"}),(0,_.jsx)(x.Z,{className:"font-semibold",children:"Phone Number:"}),(0,_.jsx)(x.Z,{className:"font-semibold",children:"Email address:"}),(0,_.jsx)(x.Z,{className:"font-semibold",children:"Country:"}),(0,_.jsx)(x.Z,{className:"font-semibold",children:"State:"}),(0,_.jsx)(x.Z,{className:"font-semibold",children:"City:"})]}),(0,_.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,_.jsx)(x.Z,{children:null===he||void 0===he?void 0:he.address}),(0,_.jsx)(x.Z,{children:null===he||void 0===he?void 0:he.phoneNo}),(0,_.jsx)(x.Z,{children:null===he||void 0===he?void 0:he.email}),(0,_.jsx)(x.Z,{children:null===he||void 0===he?void 0:he.country}),(0,_.jsx)(x.Z,{children:null===he||void 0===he?void 0:he.state}),(0,_.jsx)(x.Z,{children:null===he||void 0===he?void 0:he.city})]})]}),(0,_.jsxs)("div",{class:"flex flex-col gap-4 mt-4 w-1/2",children:[(0,_.jsxs)("div",{className:"grid grid-cols-2 gap-5 items-center",children:[(0,_.jsx)(x.Z,{className:"font-semibold",children:"ID:"}),null!==he&&void 0!==he&&he.idPhotoUrl?(0,_.jsx)(j.Z,{className:"text-white italic bg-primary-main",variant:"",children:(0,_.jsxs)("a",{href:null===he||void 0===he?void 0:he.idPhotoUrl,target:"_blank",children:[" ","View Id."]})}):(0,_.jsx)("div",{className:"w-full flex flex-col justify-start items-start gap-5",children:(0,_.jsx)(x.Z,{className:"text-yellow-400",variant:"",children:"Not Yet Uploaded."})})]}),(0,_.jsxs)("div",{className:"grid grid-cols-2 gap-5 items-center",children:[(0,_.jsx)(x.Z,{className:"font-semibold ",children:"CAC Document:"}),null!==he&&void 0!==he&&he.companyRegistrationPhotoUrl?(0,_.jsx)(j.Z,{className:"text-white italic bg-primary-main minw-",variant:"",children:(0,_.jsx)("a",{href:null===he||void 0===he?void 0:he.companyRegistrationPhotoUrl,target:"_blank",children:"View CAC"})}):(0,_.jsx)("div",{className:"w-full flex flex-col justify-start items-start gap-5",children:(0,_.jsx)(x.Z,{className:"text-yellow-400",variant:"",children:"Not Yet Uploaded."})})]})]})]})})})})]})}}}]);
//# sourceMappingURL=376.08b628a3.chunk.js.map