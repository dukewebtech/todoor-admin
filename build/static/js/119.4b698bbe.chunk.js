"use strict";(self.webpackChunksoftwrk_web=self.webpackChunksoftwrk_web||[]).push([[119],{4119:function(e,n,i){i.r(n);var t=i(4165),o=i(5861),r=i(885),a=i(2791),l=i(8152),d=i(5705),u=i(1724),s=i(5588),v=(i(6113),i(676)),c=(i(8871),i(5311),i(7328),i(656),i(2699),i(4565)),p=i(6871),f=i(3979),m=(i(3849),i(4789)),h=i(4781),y=i(2426),g=i.n(y),x=i(9795),Z=i(184);n.default=function(e){var n,i,y,b,w,N,k,j,S,C=(0,p.s0)(),_=(0,a.useState)("customer"),T=(0,r.Z)(_,2),A=T[0],I=(T[1],(0,a.useState)(1)),G=(0,r.Z)(I,2),Q=G[0],R=G[1],U=(0,a.useState)([]),V=(0,r.Z)(U,2),q=V[0],B=V[1],L=l.Z.useGetAllQuery({userType:"company"}),P=l.Z.useGetCompanyStatisticsQuery({}),D=(0,a.useState)([]),E=(0,r.Z)(D,2),F=E[0],H=E[1],M=null===P||void 0===P?void 0:P.data,O=null===L||void 0===L||null===(n=L.data)||void 0===n?void 0:n.data,z=l.Z.useGetAllQuery({userType:"customer"}),J=(null===z||void 0===z||null===(i=z.data)||void 0===i||i.data,null===l.Z||void 0===l.Z?void 0:l.Z.useGetAllBikesQuery({pageNo:Q})),K=+(null===z||void 0===z||null===(y=z.data)||void 0===y||null===(b=y.meta)||void 0===b?void 0:b.totalNoOfPages),W=(null===J||void 0===J||null===(w=J.data)||void 0===w||w.data,l.Z.useGetAllVerifiedQuery({userType:A,verified:!1,pageNo:Q})),X=l.Z.useGetAllVerifiedQuery({userType:A,verified:!0,pageNo:Q}),Y=(null===X||void 0===X||null===(N=X.data)||void 0===N||N.data,null===W||void 0===W||null===(k=W.data)||void 0===k||k.data,function(e){R(e)});(0,a.useEffect)((function(){$()}),[Q]);for(var $=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){var n,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.U2)({endpoint:"api/company/getalluser?userType=customer&pageNo=".concat(Q),auth:!0});case 2:o=e.sent,console.log("red=>>>>>"),console.log(null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.data),B(null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.IV)({endpoint:"api/super-admin/deleteRider?userId=".concat(n),auth:!0});case 2:e.sent,$();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ne=[],ie=1;ie<=K;ie++)ne.push(ie);var te=function(e){if(O&&q&&e)return O.find((function(n){return n._id==e}))},oe=null===q||void 0===q?void 0:q.map((function(e){var n;return{image:null===e||void 0===e?void 0:e.profileUrl,name:"".concat(null===e||void 0===e?void 0:e.fname),company:null!==e&&void 0!==e&&e.companyId?null===(n=te(null===e||void 0===e?void 0:e.companyId))||void 0===n?void 0:n.fname:"Self Registered",id:null===e||void 0===e?void 0:e.email,ratings:g()(null===e||void 0===e?void 0:e.created_at).format("ll"),tripsCompleted:"-",phoneNo:null===e||void 0===e?void 0:e.phoneNo,status:null===e||void 0===e?void 0:e.currTripState,userId:null===e||void 0===e?void 0:e._id,verified:null===e||void 0===e?void 0:e.verified,info:e}})),re=((0,v.Z)(),(0,s.Ds)().enqueueSnackbar),ae=l.Z.useLoginMutation(),le=(0,r.Z)(ae,2),de=le[0];return le[1],(0,d.TA)({initialValues:{username:"",password:""},validationSchema:u.Ry({username:u.Z_().trim().required(),password:u.Z_().trim().required()}),onSubmit:function(){var e=(0,o.Z)((0,t.Z)().mark((function e(n){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("/complete-signUp"),e.prev=1,e.next=4,de({data:n}).unwrap();case 4:e.sent,re("Logged in successful",{variant:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),re(null===e.t0||void 0===e.t0||null===(i=e.t0.data)||void 0===i?void 0:i.message,"Failed to login",{variant:"error"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}()}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(h.Z,{}),(0,Z.jsxs)("div",{className:"flex items-end mr-3 mt-12 w-3/6",children:[(0,Z.jsx)("div",{className:"mr-4 hover:cursor-pointer",onClick:function(){var e;e=q,H(!1?null===e||void 0===e?void 0:e.map((function(e){var n;return{image:null===e||void 0===e?void 0:e.profileUrl,name:"".concat(null===e||void 0===e?void 0:e.fname),company:null!==e&&void 0!==e&&e.companyId?null===(n=te(null===e||void 0===e?void 0:e.companyId))||void 0===n?void 0:n.fname:"Self Registered",id:null===e||void 0===e?void 0:e.email,ratings:g()(null===e||void 0===e?void 0:e.created_at).format("ll"),tripsCompleted:"-",phoneNo:null===e||void 0===e?void 0:e.phoneNo,status:null===e||void 0===e?void 0:e.currTripState,userId:null===e||void 0===e?void 0:e._id,verified:null===e||void 0===e?void 0:e.verified,info:e}})):[])},children:(0,Z.jsx)(f.Z,{className:"mr-3",rider:!1,big:!0,green:!0,name:"Total Customers",count:null!==(j=null===M||void 0===M?void 0:M.total_riders)&&void 0!==j?j:0})}),(0,Z.jsx)("div",{})]}),(0,Z.jsx)(c.Z,{variant:"h5",className:"font-bold mt-8 text-primary-main",children:"All Customers"}),null===(S=F.length&&F||oe)||void 0===S?void 0:S.map((function(e,n){return(0,Z.jsx)(m.Z,{deleteBikes:ee,tableArray:e,info:e.info,getBikes:$,suspendHide:!0},n)})),(0,Z.jsx)("nav",{className:"flex justify-center mt-5",children:(0,Z.jsxs)("ul",{className:"flex",children:[Q>1&&(0,Z.jsx)("li",{children:(0,Z.jsx)("a",{href:"#",onClick:function(){return Y(Q-1)},className:"py-2 px-4 bg-gray-400 text-white font-bold rounded-l hover:bg-gray-600",children:"Prev"})}),ne.map((function(e){return(0,Z.jsx)("li",{children:(0,Z.jsx)("a",{href:"#",onClick:function(){return Y(e)},className:Q===e?"py-2 px-4 bg-primary-main text-white font-bold":"py-2 px-4 hover:bg-gray-400/10",children:e})},e)})),Q<ne.length&&(0,Z.jsx)("li",{children:(0,Z.jsx)("a",{href:"#",onClick:function(){return Y(Q+1)},className:"py-2 px-4 bg-gray-400 text-white font-bold rounded-r hover:bg-gray-600",children:"Next"})})]})})]})}}}]);
//# sourceMappingURL=119.4b698bbe.chunk.js.map