"use strict";(self.webpackChunksoftwrk_web=self.webpackChunksoftwrk_web||[]).push([[854],{5255:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var o=t(1413),i=t(4165),r=t(5861),a=t(885),s=t(2791),l=(t(5705),t(1724),t(5588),t(676),t(9126)),u=t(9795),c=(t(5087),t(7993)),d=(t(8871),t.p,t.p+"static/media/todoor image.2dabe7881be92a826a0c.png"),p=(t(7328),t(656),t(2699),t(7205)),v=t(6871),f=(t(3979),t(4781),t(4428),t(184));var g=function(e){var n,t=(0,s.useState)(null),g=(0,a.Z)(t,2),m=g[0],w=g[1],x=(0,s.useState)(null),h=(0,a.Z)(x,2),Z=(h[0],h[1]),b=(0,s.useState)({lat:7,lng:5}),j=(0,a.Z)(b,2),L=j[0],S=(j[1],(0,s.useState)([])),k=(0,a.Z)(S,2),y=k[0],C=k[1],z=(0,s.useState)(null),A=(0,a.Z)(z,2),N=(A[0],A[1]),I=(0,s.useState)(0),R=(0,a.Z)(I,2),T=(R[0],R[1],(0,s.useState)(null)),V=(0,a.Z)(T,2),O=V[0],_=V[1],M=((0,s.useRef)(null),(0,s.useState)(null)),q=(0,a.Z)(M,2),B=(q[0],q[1],localStorage.getItem("token").slice(0,7),function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){var t,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.U2)({endpoint:"api/super-admin/getActiveRiders",auth:!0});case 2:return o=e.sent,C(null===o||void 0===o?void 0:o.data),e.abrupt("return",null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.length);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),D=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.U2)({endpoint:"api/super-admin/getActiveRiders",auth:!0});case 2:t=e.sent,console.log(null===t||void 0===t?void 0:t.data[0]),F(null===t||void 0===t?void 0:t.data[0]);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),F=function(e){if(m){console.log(null===e||void 0===e?void 0:e.gpsLoc);var n=new window.google.maps.LatLngBounds;n.extend(new window.google.maps.LatLng(null===e||void 0===e?void 0:e.gpsLoc[1],null===e||void 0===e?void 0:e.gpsLoc[0])),m.fitBounds(n),m.panTo(new window.google.maps.LatLng(null===e||void 0===e?void 0:e.gpsLoc[1],null===e||void 0===e?void 0:e.gpsLoc[0]))}};(0,s.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();D();var n=setInterval(e,3e3);return function(){return clearInterval(n)}}),[m]),(0,v.s0)();var G=(0,c.Ji)({googleMapsApiKey:"AIzaSyAOcmuq7zgq9R_ZubLHlhw6VO_XRidO1Vg"}).isLoaded;if(!G)return(0,f.jsx)("p",{children:"isloaded"});var H=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n,t){var o,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=n&&""!=t){e.next=2;break}return e.abrupt("return");case 2:return o=new google.maps.DirectionsService,e.next=5,o.route({origin:n,destination:t,travelMode:google.maps.TravelMode.DRIVING});case 5:r=e.sent,_(r),Z(r.routes[0].legs[0].distance.text),N(r.routes[0].legs[0].duration.text);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),J={color:"blue",fontSize:"12px",fontWeight:"bold",anchor:new window.google.maps.Point(0,20)},K={url:d,scaledSize:new window.google.maps.Size(60,60)};return G?(0,f.jsxs)("div",{className:"w-full",children:[(0,f.jsxs)("div",{className:"flex justify-between items-center",children:[(0,f.jsx)("div",{className:"mb-4",children:(0,f.jsx)(p.Z,{onClick:function(){return H("Apapa, Lagos","Ikeja, Lagos")},style:{color:"#8C8C8C"},className:" ml-3 px-7 py-2 bg-transparent",children:"God's View"})}),(0,f.jsx)("div",{className:"flex-between w-2/5 mr-12",children:(0,f.jsxs)("div",{className:" flex items-center",children:[(0,f.jsx)(l.KC7,{className:"mr-1",style:{color:"#078532"},fontSize:12}),(0,f.jsxs)("p",{children:["Online ",null===y||void 0===y||null===(n=y.map((function(e){return e.isAvailable})))||void 0===n?void 0:n.length]})]})})]}),(0,f.jsxs)(c.b6,{mapContainerStyle:{width:"100%",height:"45vw"},center:L,zoom:50,options:{zoomControl:!1,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!1},onLoad:function(e){setTimeout((function(){w(e)}))},children:[m&&(0,f.jsx)("div",{children:y.map((function(e){return(null===e||void 0===e?void 0:e.gpsLoc)&&(0,f.jsx)("div",{children:(null===e||void 0===e?void 0:e.isAvailable)&&(0,f.jsx)("div",{children:(0,f.jsx)(c.Jx,{style:{width:"10px"},onClick:function(){F(e)},icon:K,position:{lat:null===e||void 0===e?void 0:e.gpsLoc[1],lng:null===e||void 0===e?void 0:e.gpsLoc[0]},label:(0,o.Z)((0,o.Z)({text:null===e||void 0===e?void 0:e.fname},J),{},{marginTop:"-250px"})})})})}))}),O&&(0,f.jsx)(c.tH,{directions:O}),(0,f.jsx)(f.Fragment,{})]})]}):(0,f.jsx)(f.Fragment,{})}}}]);
//# sourceMappingURL=854.0bdc7477.chunk.js.map